# Exploits - Buffer Overflow

### Buffer Overflow

- Variable im Speicher (Array, String)
- Mehr Bytes in Buffer schreiben als eig. verfügbar ist
- Programm prüft Buffergrenzen nicht
- Programm stürzt ab
- Ziel: Remote/Arbitary Code Execution
- Stack: Speichersegment im virtuellen Speicher

### Virtueller Speicher

![Untitled](Exploits%20-%20Buffer%20Overflow%20fdb49dd88a2f4d6c85762aad380bac81/Untitled.png)

### StackFrame

![Untitled](Exploits%20-%20Buffer%20Overflow%20fdb49dd88a2f4d6c85762aad380bac81/Untitled%201.png)

ESP = Stack Pointer → zeigt auf zuletzt gepushtes Element

EBP = Base Pointer → zeigt auf die aufrufende Funktion

PARAM = Übergabeparamenter

RET = Return Adresse

EBP = ursprünglicher Base Pointer

LOC VAR = Lokale Variablen

Lokale Variablen werden nach oben (Richtung höhere Adresse beschrieben)

(Shell)Code wird in lokale Variable geschrieben

Return Adresse wird mit Speicheradresse der Lokalen Variable überschrieben

### Code Beispiel

![Untitled](Exploits%20-%20Buffer%20Overflow%20fdb49dd88a2f4d6c85762aad380bac81/Untitled%202.png)